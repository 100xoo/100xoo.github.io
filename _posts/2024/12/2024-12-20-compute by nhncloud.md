---
layout: single
title: NHN Cloud - Compute
categories: Cloud
tags: [NHN Cloud, NHN Cloud 톺아보기]
toc: True
---

NHN Cloud Compute

# Instance – 리전(Region)

## 리전이 무엇인가요?
- 리전은 독립적이고 지리적으로 격리된 서버의 물리적 위치를 의미하며, 독립된 전원 및 네트워크를 갖춘 데이터 센터로 구성

### 주요 리전 예시:
- **한국**: 판교, 평촌, 광주(예정), 경남(예정), 순천(예정)
- **일본**: 도쿄
- **미국**: LA


# Instance – 가용성 영역 (Availability Zone)

- 물리 하드웨어 문제로 생기는 장애에 대비하기 위해 리전별로 **전체 시스템을 여러 개의 가용성 영역으로 나누어 둠**
- 이 가용성 영역별로 저장 시스템, 네트워크 스위치, 상면, 전원 장치가 모두 별도로 구성

## 예시
- **Availability Zone (KR-a)**  
- **Availability Zone (KR-b)**


# Instance Template

- 자주 사용하는 인스턴스 구성 요소 정보를 미리 정의해 보관하는 서비스

## Case 1
- 미리 정의한 인스턴스 템플릿으로 동일한 사양의 인스턴스를 생성할 때

## Case 2
- Auto Scale을 사용하기 위한 스케일링 그룹을 만들 때


# Image

운영체제와 애플리케이션을 담고 있는 가상 디스크이며, 인스턴스의 기본 디스크로 사용
NHN Cloud에서는 다양한 운영체제와 애플리케이션이 설치된 이미지를 기본으로 제공하며, 사용자의 상황에 맞게 이미지를 수정하여 사용 가능

## 이미지 유형
| **유형**       | **설명**                                                                                                                                          |
|----------------|---------------------------------------------------------------------------------------------------------------------------------------------------|
| **퍼블릭 이미지** | - NHN Cloud에서 제공하는 이미지                                                                                                               |
|                | - 현재 CentOS, Debian, Ubuntu와 Windows를 제공                                                                                        |
| **사용자 이미지** | - 퍼블릭 이미지를 토대로 사용자가 수정한 이미지                                                                                                    |
|                | - 사용하는 서비스나 애플리케이션에 맞게 새로운 애플리케이션을 설치하거나, 각종 운영체제 설정을 변경 가능                                                      |
|                | - u2타입의 인스턴스를 제외한 t2, m2, c2, r2, x1 타입의 인스턴스에서는 실행 중에도 이미지를 생성할 수 있지만, 데이터 정합성은 보장하고 있지 않다는 점 참고          |
| **공유 이미지**   | - 사용자 이미지를 다른 프로젝트 또는 다른 리전과 공유하도록 설정 가능                                                                                   |
|                | - 공유 이미지는 동일한 소유자의 프로젝트 사이에서만 사용 가능                                                                                     |

## Case 1
- CentOS 7.8 서버에 웹서버를 설치하고 DB서버를 설치하고 장고와 Python도 설치해서 개인 이미지로 만들기

## Case 2
- 다른 리전이나 다른 프로젝트로 복제하여 사용

# Image Builder

NHN Cloud가 제공하는 OS 이미지를 기반으로 사용자의 요구 사항에 맞는 개인 이미지를 생성하는 서비스

## 특징
- NHN Cloud가 제공하는 OS 이미지와 애플리케이션 설치 구성 요소, 사용자 스크립트를 조합해 개인 이미지를 간편하게 만들 수 있음
- 사용자가 인스턴스로부터 이미지를 생성하는 과정을 자동화하여 작업 과정에서 발생할 수 있는 오류를 최소화 가능
- 기본 보안 구성이 적용된 OS 이미지를 사용하기 때문에 보안 위협으로부터 안전한 개인 이미지를 만들 수 있음
- 지속적으로 관리되는 다양한 애플리케이션 설치 구성 요소를 사용 가능

# Auto Scale

- 인스턴스 부하나 장애 상황을 대비해 모니터링 후 인스턴스 확장 또는 축소를 수행하는 클라우드 핵심 기술

## Scale Up
- 인스턴스의 스펙을 업그레이드

## Scale Out
- 인스턴스의 개수를 확장

## Scale In
- 인스턴스의 개수를 축소


# Auto Scaling Group

- 인스턴스를 추가 생성 또는 삭제하는 조건과 실행 행동을 정의한 클라우드 핵심 기술
- 최소, 최대, 구동 인스턴스는 스케일링 그룹에서 반드시 정의해야 하는 매개변수


# Auto Scaling 정책

- 인스턴스를 생성하거나 제거하는 기준과 조건을 정의한 동작


## 모니터링 항목
| 모니터링 항목 | 상세 항목               |
|--------------|------------------------|
| CPU          | 사용률(%)              |
| Memory       | 사용률(%)              |
| 디스크        | 읽기/쓰기량 (KB/m)     |
| 네트워크      | 송신/수신량 (KB/m)     |

- 스케일링 그룹은 1분 주기로 수집

# Auto Scale 정리
- Instance template 정의
- 최소, 최대, 구동 인스턴스 정의
- Autoscale 서비스가 확인하는 값은 스케일링 그룹 내 모든 인스턴스들의 평균값
- 모니터링 중에 조건에 따라 증설 및 감축
- 감축은 가장 오래된 인스턴스부터 삭제